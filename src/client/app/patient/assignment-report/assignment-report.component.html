<div class="load-content" *ngIf="!dataAvailable">
  <div id="page-loader" class="page-loader fade in"><span class="spinner">Loading...</span></div>
</div>
<div id="content" class="content" *ngIf="dataAvailable">
  <ul class="breadcrumb pull-right">
    <li><a href [routerLink]="['/dashboard']" class="link-none">Dashboard</a></li>
    <li><a href [routerLink]="['/patients']" class="link-none">Patients</a></li>
    <li><a href [routerLink]="['/patients/' + assignmentReport.patientAssignmentMessages[0].patientSequenceNumber]" class="link-none">Patient {{assignmentReport.patientAssignmentMessages[0].patientSequenceNumber}}</a></li>
    <li><a href [routerLink]="['/patients/' + assignmentReport.patientAssignmentMessages[0].patientSequenceNumber + '/variant_reports/' + analysisId]"
        class="link-none">Variant Report</a></li>
    <li class="active">Historical Assignment Report</li>
  </ul>
  <h1 class="page-header">Historical Assignment Report</h1>
  <div class="row" matchHeight="panel-height-top">
    <div class="col-md-6">
      <div class="panel panel-white panel-accent-sides-purple overflow-hidden panel-height-top">
        <div class="panel-heading">
          <dl class="dl-horizontal">
            <dt>Molecular Sequence Number</dt>
            <dd>{{molecularSequenceNumber | dashify}}</dd>
            <dt>Biopsy Sequence Number</dt>
            <dd>{{assignmentReport.biopsySequenceNumber | dashify}}</dd>
            <dt>Analysis ID</dt>
            <dd>{{analysisId | dashify}}</dd>
            <dt>Status</dt>
            <dd><span [colorCodeAssignment]="assignmentReport.patientAssignmentMessages[0].status"> {{assignmentReport.patientAssignmentMessages[0].status | dashify}}</span>              on {{assignmentReport.dateConfirmed | gmt}} by TA Committee</dd>
          </dl>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="panel panel-white panel-accent-sides-purple overflow-hidden panel-height-top">
        <div class="panel-heading">
          <dl class="dl-horizontal widest-dt">
            <dt>Assignment Report Status</dt>
            <dd>{{assignmentReport.patientAssignmentStatus | dashify}}</dd>
            <dt>Assignment Report Generation Date</dt>
            <dd>{{assignmentReport.dateAssigned | gmt }}</dd>
            <dt>Assignment Report Confirmed Date</dt>
            <dd>{{assignmentReport.dateConfirmed | gmt}}</dd>
            <dt>Assignment Sent to ECOG Date</dt>
            <dd>{{assignmentReport.dateSentToECOG | gmt}}</dd>
            <dt>Assignment Received by ECOG Date</dt>
            <dd>{{assignmentReport.dateReceivedByECOG | gmt}}</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <div class="panel panel-white panel-accent-sides-purple overflow-hidden">
    <div class="panel-heading">
      <div class="row">
        <div class="col-md-12">
          <h4>Selected Treatment Arm:
            <span *ngIf="assignmentReport.treatmentArm" class="text-success-light">{{assignmentReport.patientAssignmentMessages[0].treatmentArmId | dashify}} ({{assignmentReport.treatmentArm.version | dashify}})</span>
            <span *ngIf="!assignmentReport.treatmentArm" class="text-muted">No available treatment arm</span>
          </h4>
          <div class="panel panel-success overflow-hidden">
            <div class="panel-heading">
              <p>
                {{assignmentReport.patientAssignmentMessages[0].message | dashify}}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="panel panel-white panel-accent-sides-purple overflow-hidden">
    <div class="panel-heading">
      <div class="row">
        <div class="col-md-12">
          <sd-assignment-reason-table [reasons]="assignmentReport.reasons"></sd-assignment-reason-table>
        </div>
      </div>
    </div>
  </div>
</div>
