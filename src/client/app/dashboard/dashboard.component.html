<div id="content" class="content">
  <div class="row">
    <div class="p-l-15 f-s-10 text-muted-dark pull-right dashboard-loaded-at">
      Loaded at {{timestamp | date: 'mediumTime'}}
    </div>
    <div class="col-md-4" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" id="patient_summary">
      <a class="link-none" href="javascript:void(0)" [routerLink]="['/patients']">
        <div class="widget widget-stat bg-purple-light text-white">
          <div class="widget-stat-icon">
            <i class="fa fa-users fa-lg"></i>
          </div>
          <div class="widget-stat-info">
            <div class="widget-stat-title text-right">Patients</div>
            <div *ngIf="!isLoadedPatientSummary" class="widget-stat-number text-right">
              <span class="text-purple-invisible">
                .
              </span>
            </div>
            <div *ngIf="isLoadedPatientSummary" class="widget-stat-number text-right">
              <span *ngIf="!patientSummary.TOTAL">0</span>
              <span *ngIf="patientSummary.TOTAL">{{patientSummary.TOTAL}}</span>
            </div>
            <div *ngIf="!isLoadedPatientSummary" class="widget-stat-text text-right">
              <span>
                <sd-loading-spinner></sd-loading-spinner>
              </span>
            </div>
            <div *ngIf="isLoadedPatientSummary" class="widget-stat-text text-right">
              <span *ngIf="!patientSummary.ON_TREATMENT_ARM">0</span>
              <span *ngIf="patientSummary.ON_TREATMENT_ARM">{{patientSummary.ON_TREATMENT_ARM}}</span> On Treatment Arm&nbsp;&nbsp;|&nbsp;
              <span *ngIf="!patientSummary.OFF_TRIAL">0</span>
              <span *ngIf="patientSummary.OFF_TRIAL">{{patientSummary.OFF_TRIAL}}</span> Off Trial
            </div>
          </div>
        </div>
      </a>
    </div>
    <div class="col-md-4" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" id="treatment_arm_summary">
      <a class="link-none" href="javascript:void(0)" [routerLink]="['/treatments']">
        <div class="widget widget-stat bg-success-light text-white">
          <div class="widget-stat-icon">
            <i class="fa fa-medkit fa-lg"></i>
          </div>
          <div class="widget-stat-info">
            <div class="widget-stat-title text-right">Treatment Arms</div>
            <div *ngIf="!isLoadedtreatmentArmSummary" class="widget-stat-number text-right">
              <span class="text-success-invisible">
                .
              </span>
            </div>
            <div *ngIf="isLoadedtreatmentArmSummary" class="widget-stat-number text-right">
              <span *ngIf="!treatmentArmSummary.TOTAL">0</span>
              <span *ngIf="treatmentArmSummary.TOTAL">{{treatmentArmSummary.TOTAL}}</span>
            </div>
            <div *ngIf="!isLoadedtreatmentArmSummary" class="widget-stat-text text-right">
              <span>
                <sd-loading-spinner></sd-loading-spinner>
              </span>
            </div>
            <div *ngIf="isLoadedtreatmentArmSummary" class="widget-stat-text text-right">
              <span *ngIf="!treatmentArmSummary.OPEN">0</span>
              <span *ngIf="treatmentArmSummary.OPEN">{{treatmentArmSummary.OPEN}}</span> Open&nbsp;&nbsp;|&nbsp;
              <span *ngIf="!treatmentArmSummary.SUSPENDED">0</span>
              <span *ngIf="treatmentArmSummary.SUSPENDED">{{treatmentArmSummary.SUSPENDED}}</span> Suspended&nbsp;&nbsp;|&nbsp;
              <span *ngIf="!treatmentArmSummary.CLOSED">0</span>
              <span *ngIf="treatmentArmSummary.CLOSED">{{treatmentArmSummary.CLOSED}}</span> Closed
            </div>
          </div>
        </div>
      </a>
    </div>
    <div class="col-md-4" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" id="biopsy_summary">
      <a class="link-none" href="javascript:void(0)" [routerLink]="['/tracking']">
        <div class="widget widget-stat bg-info-light text-white">
          <div class="widget-stat-icon">
            <i class="fa fa-truck fa-lg"></i>
          </div>
          <div class="widget-stat-info">
            <div class="widget-stat-title text-right">Biopsy Tracking</div>
            <div *ngIf="!isLoadedbiopsyTrackingSummary" class="widget-stat-number text-right">
              <span class="text-info-invisible">
                .
              </span>
            </div>
            <div *ngIf="isLoadedbiopsyTrackingSummary" class="widget-stat-number text-right">
              <span *ngIf="!biopsyTrackingSummary.TOTAL">0</span>
              <span *ngIf="biopsyTrackingSummary.TOTAL">{{biopsyTrackingSummary.TOTAL}}</span>
            </div>
            <div *ngIf="!isLoadedbiopsyTrackingSummary" class="widget-stat-text text-right">
              <span>
                <sd-loading-spinner></sd-loading-spinner>
              </span>
            </div>
            <div *ngIf="isLoadedbiopsyTrackingSummary" class="widget-stat-text text-right">
              <span *ngIf="!biopsyTrackingSummary.BIOPSY_SEQUENCES">0</span>
              <span *ngIf="biopsyTrackingSummary.BIOPSY_SEQUENCES">{{biopsyTrackingSummary.BIOPSY_SEQUENCES}}</span> Biopsy Sequences&nbsp;&nbsp;|&nbsp;
              <span *ngIf="!biopsyTrackingSummary.MOLECULAR_SEQUENCES">0</span>
              <span *ngIf="biopsyTrackingSummary.MOLECULAR_SEQUENCES">{{biopsyTrackingSummary.MOLECULAR_SEQUENCES}}</span> Molecular Sequences
            </div>
          </div>
        </div>
      </a>
    </div>
  </div>
  <h1 class="page-header">Pending Review</h1>
  <div class="panel">
    <tabset class="nav-tabs-purple">
      <tab heading="Assignment Reports" id="pandingArTab">
        <div class="col-md-12 bg-purple-light">
          <div class="col-md-6 p-l-5">
            <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
              <label>Show
                <select [disabled]="pendingAssignmentReports.data.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageAR" aria-controls="data-table"
                  class="form-control form-control-purple input-sm">
                  <option value=10>10</option>
                  <option value=25>25</option>
                  <option value=50>50</option>
                  <option value=100>100</option>
                </select>
                entries</label>
            </div>
          </div>
          <div class="col-md-6 p-r-5">
            <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
              <label>Search:
                <input [disabled]="pendingAssignmentReports.data.length == 0" type="text" [(ngModel)]="searchtermAR" class="form-control form-control-purple input-sm"
                  placeholder="" aria-controls="data-table">
              </label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="table-responsive col-lg-12">
            <table class="table table-td-valign-middle table-striped table-col-width" [mfData]="pendingAssignmentReports.data | filterByText: searchtermAR"
              #mftableAR="mfDataTable" [(mfSortBy)]="tableARDefaultSort" [(mfSortOrder)]="sortByDescAR" [mfRowsOnPage]="recordsPerPageAR">
              <thead>
                <tr class="purple-light">
                  <th>
                    <mfDefaultSorter by="patientSequenceNumber">
                      <span class="table-header">Patient Sequence Number</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="biopsySequenceNumber">
                      <span class="table-header">Biopsy Sequence Number</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="molecularSequenceNumber">
                      <span class="table-header">Molecular Sequence Number</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="treatmentArmId">
                      <span class="table-header">Selected Treatment Arm</span>
                    </mfDefaultSorter>
                  </th>
                  <th class="text-center">
                    Assignment Report
                  </th>
                  <th>
                    <mfDefaultSorter by="dateAssigned">
                      <span class="table-header">Assignment Date</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="hoursPending">
                      <span class="table-header">Hours Pending</span>
                    </mfDefaultSorter>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of mftableAR.data">
                  <td routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                    <a href [routerLink]="['/patients', item.patientSequenceNumber]" class="link-none">
                      <i class="fa fa-user"></i> {{item.patientSequenceNumber | dashify}}</a>
                  </td>
                  <td routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                    <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'biopsies', entityId: item.biopsySequenceNumber}"
                      class="link-none">
                      <i class="fa fa-tasks"></i> {{item.biopsySequenceNumber | dashify}}</a>
                  </td>
                  <td routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                    <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'msn', entityId: item.molecularSequenceNumber}"
                      class="link-none">
                      <i class="fa fa-share-alt"></i> {{item.molecularSequenceNumber | dashify}}</a>
                  </td>
                  <td routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                    <treatment-arm-link *ngIf="item.treatmentArmId" [treatmentArmId]="item.treatmentArmId" [version]="item.treatmentArmVersion"
                      [removePrefix]="true"></treatment-arm-link>
                    <span *ngIf="!item.treatmentArmId" class="text-muted">No available treatment arm</span>
                  </td>
                  <td class="text-center">
                    <a href [routerLink]="['/patients/' + item.patientSequenceNumber + '/biopsies/' + item.biopsySequenceNumber + '/variant_reports/' + item.analysisId]" class="link-none">
                      <i class="fa fa-file-text-o"></i>
                    </a>
                  </td>
                  <td>{{item.dateAssigned | dashify}}</td>
                  <td [colorCodeHours]="item.hoursPending">{{item.hoursPending | dashify}}</td>
                </tr>
                <tr *ngIf="pendingAssignmentReports.isLoaded && mftableAR.data.length == 0">
                  <td class="text-muted" colspan="7">
                    <span *ngIf="searchtermAR">No matching search results found for "{{searchtermAR}}"</span>
                    <span *ngIf="!searchtermAR">There are no pending assignment reports that need review</span>
                  </td>
                </tr>
                <tr *ngIf="!pendingAssignmentReports.isLoaded">
                  <td class="text-muted" colspan="7">
                    <sd-loading-spinner></sd-loading-spinner>
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td class="tfoot-padding" colspan="7">
                    <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermAR" [totallength]="pendingAssignmentReports.data.length"
                      [totalPageCount]="tablePendingAssignmentReportsDataInitial" [paginationType]="'dashboard'"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </tab>
      <tab heading="Variant Reports" id="pandingVrTab">
        <div class="col-md-12 bg-purple-light">
          <div class="col-md-6 p-l-5">
            <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
              <label>Show
                <select [disabled]="pendingVariantReports.data.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageVR" aria-controls="data-table"
                  class="form-control form-control-purple input-sm">
                  <option [ngValue]=10>10</option>
                  <option [ngValue]=25>25</option>
                  <option [ngValue]=50>50</option>
                  <option [ngValue]=100>100</option>
                </select>
                entries</label>
            </div>
          </div>
          <div class="col-md-6 p-r-5">
            <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
              <label>Search:
                <input [disabled]="pendingVariantReports.data.length == 0" type="text" [(ngModel)]="searchtermVR" class="form-control form-control-purple input-sm"
                  placeholder="" aria-controls="data-table">
              </label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="table-responsive col-lg-12">
            <table class="table table-td-valign-middle table-striped table-col-width" [mfData]="pendingVariantReports.data | filterByText: searchtermVR"
              #mftableVR="mfDataTable" [(mfSortBy)]="tableVRDefaultSort" [(mfSortOrder)]="sortByDescVR" [mfRowsOnPage]="recordsPerPageVR">
              <thead>
                <tr class="purple-light">
                  <th>
                    <mfDefaultSorter by="patientSequenceNumber">
                      <span class="table-header">Patient Sequence Number</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="biopsySequenceNumber">
                      <span class="table-header">Biopsy Sequence Number</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="molecularSequenceNumber">
                      <span class="table-header">Molecular Sequence Number</span>
                    </mfDefaultSorter>
                  </th>
                  <th class="text-center">
                    Variant Report
                  </th>
                  <th>
                    <mfDefaultSorter by="location">
                      <span class="table-header">Location</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="specimenReceivedDate">
                      <span class="table-header">Specimen Received Date</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="dateVariantReportReceived">
                      <span class="table-header">Variant Report Recieved Date</span>
                    </mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="daysPending">
                      <span class="table-header">Days Pending</span>
                    </mfDefaultSorter>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of mftableVR.data">
                  <td routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                    <a href [routerLink]="['/patients', item.patientSequenceNumber]" class="link-none">
                      <i class="fa fa-user"></i> {{item.patientSequenceNumber | dashify}}</a>
                  </td>
                  <td>
                    <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'biopsies', entityId: item.biopsySequenceNumber}" class="link-none">
                      <i class="fa fa-tasks"></i> {{item.biopsySequenceNumber | dashify}}</a>
                  </td>
                  <td>
                    <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'msn', entityId: item.molecularSequenceNumber}"
                      class="link-none">
                      <i class="fa fa-share-alt"></i> {{item.molecularSequenceNumber | dashify}}</a>
                  </td>
                  <td class="text-center">
                      <a href [routerLink]="['/patients/' + item.patientSequenceNumber + '/biopsies/' + item.biopsySequenceNumber + '/variant_reports/' + item.analysisId]" class="link-none">
                        <i class="fa fa-file-text-o"></i>
                    </a>
                  </td>
                  <td>{{item.location | dashify}}</td>
                  <td>{{item.specimenReceivedDate | dashify}}</td>
                  <td>{{item.dateVariantReportReceived | dashify}}</td>
                  <td [colorCodeDays]="item.daysPending">{{item.daysPending | dashify}}</td>
                </tr>
                <tr *ngIf="pendingVariantReports.isLoaded && mftableVR.data.length == 0">
                  <td class="text-muted" colspan="8">
                    <span *ngIf="searchtermVR">No matching search results found for "{{searchtermVR}}"</span>
                    <span *ngIf="!searchtermVR">There are no pending variant reports that need review</span>
                  </td>
                </tr>
                <tr *ngIf="!pendingVariantReports.isLoaded">
                  <td class="text-muted" colspan="8">
                    <sd-loading-spinner></sd-loading-spinner>
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td class="tfoot-padding" colspan="8">
                    <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermVR" [totallength]="pendingVariantReports.data.length"
                      [totalPageCount]="tablePendingVariantReportsDataInitial" [paginationType]="'dashboard'"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </tab>
    </tabset>
  </div>
  <h1 class="page-header">Patients Awaiting Further Action Or Information</h1>
  <div class="panel" id="limbo_panel">
    <div class="col-md-12 bg-purple-light">
      <div class="col-md-6 p-l-5">
        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
          <label>Show
            <select [disabled]="patientsAwaiting.data.length == 0" name="data-table_length" [(ngModel)]="recordsPerPagePatientsAwaiting"
              aria-controls="data-table" class="form-control form-control-purple input-sm">
              <option value=10>10</option>
              <option value=25>25</option>
              <option value=50>50</option>
              <option value=100>100</option>
            </select>
            entries</label>
        </div>
      </div>
      <div class="col-md-6 p-r-5">
        <div class="row">
          <div class="col-md-6 text-white">
            <div class="pull-right text-white form-inline p-t-15 p-r-5 p-b-10" id="outside-assay-selector">
              <label>Outside Assay:
                <select [(ngModel)]="isOutsideAssayWorkflow" class="form-control form-control-purple input-sm">
                  <option [ngValue]="null">Any</option>
                  <option [ngValue]="true">Only Outside Assay Patients</option>
                  <option [ngValue]="false">Only Regular Patients</option>
                </select>
              </label>
            </div>
          </div>
          <div class="col-md-6">
            <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
              <label>Search:
                <input [disabled]="patientsAwaiting.data.length == 0" type="text" [(ngModel)]="searchtermPatientsAwaiting" class="form-control form-control-purple input-sm"
                  placeholder="" aria-controls="data-table">
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="table-responsive col-lg-12">
        <table class="table table-striped table-col-width" [mfData]="patientsAwaiting.data | filterByText: searchtermPatientsAwaiting"
          #mftablePatientsAwaiting="mfDataTable" [(mfSortBy)]="tablePatientsAwaitingDefaultSort" [(mfSortOrder)]="sortByDescPatientsAwaiting"
          [mfRowsOnPage]="recordsPerPagePatientsAwaiting">
          <thead>
            <tr class="purple-light">
              <th class="text-center">
                <span class="table-header">Details</span>
              </th>
              <th>
                <mfDefaultSorter by="patientSequenceNumber">
                  <span class="table-header">Patient Sequence Number</span>
                </mfDefaultSorter>
              </th>
              <th>
                <mfDefaultSorter by="currentPatientStatus">
                  <span class="table-header">Current Status</span>
                </mfDefaultSorter>
              </th>
              <th>
                <mfDefaultSorter by="messages">
                  <span class="table-header">Message</span>
                </mfDefaultSorter>
              </th>
              <th class="text-center">
                <mfDefaultSorter by="amoi">
                  <span class="table-header">AMOI</span>
                </mfDefaultSorter>
              </th>
              <th>
                <mfDefaultSorter by="daysWaiting">
                  <span class="table-header">Days Waiting</span>
                </mfDefaultSorter>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="patientsAwaiting.isLoaded && mftablePatientsAwaiting.data.length == 0">
              <td class="text-muted" colspan="6">
                <span *ngIf="searchtermPatientsAwaiting">No matching search results found for "{{searchtermPatientsAwaiting}}"</span>
                <span *ngIf="!searchtermPatientsAwaiting">There are no patients awaiting further action or information</span>
              </td>
            </tr>
            <tr *ngIf="!patientsAwaiting.isLoaded">
              <td class="text-muted" colspan="8">
                <sd-loading-spinner></sd-loading-spinner>
              </td>
            </tr>
            <ng-template ngFor let-item [ngForOf]="mftablePatientsAwaiting.data">
              <tr>
                <td class="text-center">
                  <a (click)="showRow[item.patientSequenceNumber]=!showRow[item.patientSequenceNumber]">
                    <i *ngIf="!showRow[item.patientSequenceNumber]" class="fa fa-chevron-right"></i>
                    <i *ngIf="showRow[item.patientSequenceNumber]" class="fa fa-chevron-down"></i>
                  </a>
                </td>
                <td routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                  <a href [routerLink]="['/patients', item.patientSequenceNumber]" class="link-none">
                    <i class="fa fa-user"></i> {{item.patientSequenceNumber | dashify}}</a>
                </td>
                <td [colorCodePatients]="item.currentPatientStatus">{{item.currentPatientStatus | dashify}}</td>
                <td class="text-danger-light">
                  <ul class="p-0" *ngFor="let items of item.messages">
                    <li>{{items | dashify}}</li>
                  </ul>
                </td>
                <td class="text-center">
                  <span *ngIf="(!item.isOutsideAssay || item.outsideBiopsy) && item.amoi.length!==0">
                    <i class="fa fa-check-circle text-success-light"></i>
                  </span>
                  <span *ngIf="(!item.isOutsideAssay || item.outsideBiopsy) && item.amoi.length===0">
                    <i class="fa fa-times-circle text-danger-light"></i>
                  </span>
                  <span *ngIf="item.confirmationBiopsy && item.confirmationBiopsy.amoi.length!==0">
                    <i class="fa fa-check-circle text-success-light"></i>
                  </span>
                  <span *ngIf="item.confirmationBiopsy && item.confirmationBiopsy.amoi.length===0">
                    <i class="fa fa-times-circle text-danger-light"></i>
                  </span>
                </td>
                <td [colorCodeDays]="item.daysWaiting">{{item.daysWaiting | dashify}}</td>
              </tr>
              <tr *ngIf="showRow[item.patientSequenceNumber] && (!item.isOutsideAssay || item.outsideBiopsy)">
                <td colspan="6" class="bg-body">
                  <div class="panel panel-accent-sides-purple panel-details-row">
                    <div *ngIf="item.outsideBiopsy" class="panel-heading">
                      <h4 class="panel-title f-s-18">Treatment Biopsy</h4>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <dl class="dl-horizontal p-t-15 m-b-15">
                          <dt>IHC RB</dt>
                          <dd class="text-muted" *ngIf="item.RB.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.RB.reportedDate && item.RB.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.RB.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.RB.reportedDate | gmt}} (<span [colorCodeAssay]="item.RB.result">{{item.RB.result | dashify}}</span>)
                          </dd>
                          <dt>IHC MSH2</dt>
                          <dd class="text-muted" *ngIf="item.MSH2.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.MSH2.reportedDate && item.MSH2.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.MSH2.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.MSH2.reportedDate | gmt}} (<span [colorCodeAssay]="item.MSH2.result">{{item.MSH2.result | dashify}}</span>)
                          </dd>
                          <dt>IHC MLH1</dt>
                          <dd class="text-muted" *ngIf="item.MLH1.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.MLH1.reportedDate && item.MLH1.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.MLH1.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.MLH1.reportedDate | gmt}} (<span [colorCodeAssay]="item.MLH1.result">{{item.MLH1.result | dashify}}</span>)
                          </dd>
                          <dt>IHC PTEN</dt>
                          <dd class="text-muted" *ngIf="item.PTEN.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.PTEN.reportedDate && item.PTEN.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.PTEN.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.PTEN.reportedDate | gmt}} (<span [colorCodeAssay]="item.PTEN.result">{{item.PTEN.result | dashify}}</span>)
                          </dd>
                          <dt>Variant Report</dt>
                          <dd *ngIf="!item.variantReportConfirmedDate">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.variantReportConfirmedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.variantReportConfirmedDate | gmt}}
                          </dd>
                          <dt>Disease</dt>
                          <dd *ngIf="!item.diseases">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.diseases">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.diseases.shortName | dashify}}</dd>
                          <dt>Concordance</dt>
                          <dd *ngIf="!item.concordance || item.concordance!=='Y'" [colorCodeConcordance]="item.concordance">
                            <i class="fa fa-times-circle text-danger-light"></i> {{item.concordance | dashify}}
                          </dd>
                          <dd *ngIf="item.concordance && item.concordance==='Y'" [colorCodeConcordance]="item.concordance">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.concordance | dashify}}
                          </dd>
                        </dl>
                      </div>
                      <div class="col-md-6">
                        <dl class="dl-horizontal p-t-15 m-b-15">
                          <dt>Biopsy Sequence Number</dt>
                          <dd>
                            <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'biopsies', entityId: item.biopsySequenceNumber}"
                              class="link-none">
                              <i class="fa fa-tasks"></i> {{item.biopsySequenceNumber | dashify}}</a>
                          </dd>
                          <dt>Specimen Collected Date</dt>
                          <dd>{{item.dateSpecimenCollected | dashify | gmt}}</dd>
                          <dt>Molecular Sequence Number</dt>
                          <dd>
                            <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'msn', entityId: item.molecularSequenceNumber}"
                              class="link-none">
                              <i class="fa fa-share-alt"></i> {{item.molecularSequenceNumber | dashify}}</a>
                          </dd>
                          <dt>Lab</dt>
                          <dd>{{item.lab | dashify}}</dd>
                          <dt>Analysis Id</dt>
                          <dd>{{item.analysisId | dashify}}</dd>
                          <dt>Nucleic Acid Shipped Date</dt>
                          <dd>{{item.dateMsnShipped | gmt}}</dd>
                          <dt>aMOI</dt>
                          <dd *ngIf="item.amoi.length===0">-</dd>
                          <dd *ngIf="item.amoi.length!==0">
                            <ul class="p-0" *ngFor="let items of item.amoi">
                              <li>
                                <span class="label m-b-5" amoi status="{{items.state}}" inclusion="{{items.inclusion}}">{{items.state | dashify}} - <span *ngIf="items.inclusion==='true'">INCLUSION</span><span *ngIf="items.inclusion==='false'">EXCLUSION</span></span>
                                <treatment-arm-link [treatmentArmId]="items.treatmentArmId" [version]="items.version" [removePrefix]="true"></treatment-arm-link>
                              </li>
                            </ul>
                          </dd>
                        </dl>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr *ngIf="showRow[item.patientSequenceNumber] && item.confirmationBiopsy">
                <td *ngIf="item.confirmationBiopsy" colspan="6" class="bg-body">
                  <div class="panel panel-accent-sides-purple panel-details-row">
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Confirmation Biopsy</h4>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <dl class="dl-horizontal p-t-15 m-b-15">
                          <dt>IHC RB</dt>
                          <dd class="text-muted" *ngIf="item.confirmationBiopsy.RB.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.confirmationBiopsy.RB.reportedDate && item.confirmationBiopsy.RB.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.confirmationBiopsy.RB.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.confirmationBiopsy.RB.reportedDate | gmt}} (<span [colorCodeAssay]="item.confirmationBiopsy.RB.result">{{item.confirmationBiopsy.RB.result | dashify}}</span>)
                          </dd>
                          <dt>IHC MSH2</dt>
                          <dd class="text-muted" *ngIf="item.confirmationBiopsy.MSH2.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.confirmationBiopsy.MSH2.reportedDate && item.confirmationBiopsy.MSH2.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.confirmationBiopsy.MSH2.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.confirmationBiopsy.MSH2.reportedDate | gmt}} (<span [colorCodeAssay]="item.confirmationBiopsy.MSH2.result">{{item.confirmationBiopsy.MSH2.result | dashify}}</span>)
                          </dd>
                          <dt>IHC MLH1</dt>
                          <dd class="text-muted" *ngIf="item.confirmationBiopsy.MLH1.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.confirmationBiopsy.MLH1.reportedDate && item.confirmationBiopsy.MLH1.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.confirmationBiopsy.MLH1.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.confirmationBiopsy.MLH1.reportedDate | gmt}} (<span [colorCodeAssay]="item.confirmationBiopsy.MLH1.result">{{item.confirmationBiopsy.MLH1.result | dashify}}</span>)
                          </dd>
                          <dt>IHC PTEN</dt>
                          <dd class="text-muted" *ngIf="item.confirmationBiopsy.PTEN.applicable===false">
                            <i class="fa fa-minus-circle text-warning-light"></i> Not Applicable</dd>
                          <dd *ngIf="!item.confirmationBiopsy.PTEN.reportedDate && item.confirmationBiopsy.PTEN.applicable===true">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.confirmationBiopsy.PTEN.reportedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.confirmationBiopsy.PTEN.reportedDate | gmt}} (<span [colorCodeAssay]="item.confirmationBiopsy.PTEN.result">{{item.confirmationBiopsy.PTEN.result | dashify}}</span>)
                          </dd>
                          <dt>Variant Report</dt>
                          <dd *ngIf="!item.confirmationBiopsy.variantReportConfirmedDate">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.confirmationBiopsy.variantReportConfirmedDate">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.confirmationBiopsy.variantReportConfirmedDate | gmt}}
                          </dd>
                          <dt>Disease</dt>
                          <dd *ngIf="!item.confirmationBiopsy.diseases">
                            <i class="fa fa-times-circle text-danger-light"></i>
                          </dd>
                          <dd *ngIf="item.confirmationBiopsy.diseases">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.confirmationBiopsy.diseases.shortName | dashify}}</dd>
                          <dt>Concordance</dt>
                          <dd *ngIf="!item.concordance || item.concordance!=='Y'" [colorCodeConcordance]="item.concordance">
                            <i class="fa fa-times-circle text-danger-light"></i> {{item.concordance | dashify}}
                          </dd>
                          <dd *ngIf="item.concordance && item.concordance==='Y'" [colorCodeConcordance]="item.concordance">
                            <i class="fa fa-check-circle text-success-light"></i> {{item.concordance | dashify}}
                          </dd>
                        </dl>
                      </div>
                      <div class="col-md-6">
                        <dl class="dl-horizontal p-t-15 m-b-15">
                          <dt>Biopsy Sequence Number</dt>
                          <dd>
                            <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'biopsies', entityId: item.confirmationBiopsy.biopsySequenceNumber}"
                              class="link-none">
                              <i class="fa fa-tasks"></i> {{item.confirmationBiopsy.biopsySequenceNumber | dashify}}</a>
                          </dd>
                          <dt>Specimen Collected Date</dt>
                          <dd>{{item.confirmationBiopsy.dateSpecimenCollected | dashify | gmt}}</dd>
                          <dt>Molecular Sequence Number</dt>
                          <dd>
                            <a href [routerLink]="['/patients', item.patientSequenceNumber]" [queryParams]="{section: 'msn', entityId: item.confirmationBiopsy.molecularSequenceNumber}"
                              class="link-none">
                              <i class="fa fa-share-alt"></i> {{item.confirmationBiopsy.molecularSequenceNumber | dashify}}</a>
                          </dd>
                          <dt>Lab</dt>
                          <dd>{{item.confirmationBiopsy.lab | dashify}}</dd>
                          <dt>Analysis Id</dt>
                          <dd>{{item.confirmationBiopsy.analysisId | dashify}}</dd>
                          <dt>Nucleic Acid Shipped Date</dt>
                          <dd>{{item.confirmationBiopsy.dateMsnShipped | gmt}}</dd>
                          <dt>aMOI</dt>
                          <dd *ngIf="item.confirmationBiopsy.amoi.length===0">-</dd>
                          <dd *ngIf="item.confirmationBiopsy.amoi.length!==0">
                            <ul class="p-0" *ngFor="let items of item.confirmationBiopsy.amoi">
                              <li>
                                <span class="label m-b-5" amoi status="{{items.state}}" inclusion="{{items.inclusion}}">{{items.state | dashify}} - <span *ngIf="items.inclusion==='true'">INCLUSION</span><span *ngIf="items.inclusion==='false'">EXCLUSION</span></span>
                                <treatment-arm-link [treatmentArmId]="items.treatmentArmId" [version]="items.version" [removePrefix]="true"></treatment-arm-link>
                              </li>
                            </ul>
                          </dd>
                        </dl>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            </ng-template>
          </tbody>
          <tfoot>
            <tr>
              <td class="tfoot-padding" colspan="6">
                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermPatientsAwaiting" [totallength]="tablePatientsAwaitingDataInitial"
                  [paginationType]="'mixed'" [totalPageCount]="patientsAwaiting.data.length"></mfBootstrapPaginator>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>
