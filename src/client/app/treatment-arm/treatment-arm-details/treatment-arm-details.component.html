<div class="load-content" *ngIf="!dataAvailable">
  <div id="page-loader" class="page-loader fade in"><span class="spinner">Loading...</span></div>
</div>
<div id="content" class="content" *ngIf="dataAvailable">
  <ul class="breadcrumb pull-right">
    <li><a href [routerLink]="['/dashboard']" class="link-none">Dashboard</a></li>
    <li><a href [routerLink]="['/treatments']" class="link-none">Treatment Arms</a></li>
    <li class="active">Treatment Arm {{tableData[versionIndex].treatmentArmId | dashify}}</li>
  </ul>
  <h1 class="page-header">Treatment Arm {{tableData[versionIndex].treatmentArmId | dashify}}</h1>
  <div class="row" matchHeight="panel-height-ta-details">
    <div class="col-md-4">
      <!-- begin panel -->
      <div class="panel panel-success-light panel-accent-sides-success panel-height-ta-details">
        <div class="m-0 p-0">
          <div>
            <div class="tab-content m-b-0 p-l-10 p-r-10 p-t-0 p-b-0">
              <div class="tab-pane active">
                <!-- table details -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="row">
                      <div class="table-responsive col-lg-12" id="treatment-arm-details">
                        <dl class="dl-horizontal m-t-20">
                          <dt>ID</dt>
                          <dd>{{tableData[versionIndex].treatmentArmId | dashify}}</dd>
                          <dt>Description</dt>
                          <dd>{{tableData[versionIndex].name | dashify}}</dd>
                          <dt>Treatment Arm Approval Date</dt>
                          <dd>
                            <div class="btn-group m-b-5 m-r-5">
                              <a href="javascript:;" data-toggle="dropdown" class="btn btn-success-light dropdown-toggle" aria-expanded="false">{{tableData[versionIndex].version | dashify}}<span *ngIf="tableData[versionIndex].dateArchived===null">*</span>&nbsp;&nbsp;<span class="caret"></span></a>
                              <ul class="dropdown-menu">
                                <li *ngFor="let item of versionData;let ndx=index">
                                  <a *ngIf="item.version!==tableData[versionIndex].version" (click)="setVersionIndex(ndx)">{{item.version | dashify}}<span *ngIf="item.dateArchived===null">*</span></a>
                                  <a *ngIf="versionData.length===1">There are no other versions</a>
                                </li>
                              </ul>
                            </div>
                          </dd>
                          <dt>Drug ID</dt>
                          <dd>{{tableData[versionIndex].treatmentArmDrugs[0].drugId | dashify}}</dd>
                          <dt>Drug Name</dt>
                          <dd>{{tableData[versionIndex].treatmentArmDrugs[0].name | dashify}}</dd>
                          <dt>Genes</dt>
                          <dd>{{tableData[versionIndex].gene | dashify}}</dd>
                          <dt>Patients Assigned</dt>
                          <dd>{{tableData[versionIndex].numPatientsAssigned | dashify}} of {{tableData[versionIndex].maxPatientsAllowed
                            | dashify}}</dd>
                          <dt>Current Status</dt>
                          <dd [colorCodeTa]="tableData[versionIndex].treatmentArmStatus">{{tableData[versionIndex].treatmentArmStatus | dashify}}</dd>
                        </dl>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- end panel -->
    </div>
    <div class="col-md-4">
      <div class="panel panel-white panel-accent-sides-success panel-height-ta-details" id="treatment-arm-history">
        <div class="panel-heading">
          <dl class="dl-horizontal">
            <h5 class="m-t-5">History</h5>
            <table class="table table-condensed white-header">
              <thead>
                <tr>
                  <th>Status</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of tableData[versionIndex].statusLog | keys">
                  <td [colorCodeTa]="item.value" class="col-xs-4">{{item.value | dashify}}</td>
                  <td class="col-xs-8">{{item.key | gmt | dashify}}</td>
                </tr>
              </tbody>
            </table>
          </dl>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <!-- begin panel -->
      <div class="panel panel-white panel-accent-sides-success panel-height-ta-details" id="treatment-arm-disease">
        <div class="m-0 p-0">
          <div>
            <div class="tab-content m-b-0 p-l-10 p-r-10 p-t-0 p-b-0">
              <div class="tab-pane active">
                <!-- chart -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <div class="panel-heading">
                          <h5 class="m-t-5">Disease Representation of Patients</h5>
                          <span *ngIf="tableData[0].summaryReport.assignmentRecords.length===0">
                            <i class="fa fa-bar-chart text-muted" style="font-size:154px; padding-left: 39px;"></i>
                            <br />
                            <span class="text-muted">No chart data available</span>
                          </span>
                          <canvas *ngIf="tableData[0].summaryReport.assignmentRecords.length!==0" baseChart [datasets]="barChartData" [labels]="barChartLabels"
                            [options]="barChartOptions" [legend]="barChartLegend" [colors]="lineChartColors" [chartType]="barChartType"></canvas>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- end panel -->
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" id="rules-panel">
      <!-- begin panel -->
      <h1 class="page-header">Rules</h1>
      <div class="panel">
        <div class="m-0 p-0">
          <div>
            <!--panel-success-->
            <ul class="nav nav-tabs nav-tabs-success p-l-0">
              <li class="active">
                <a class="p-0" href="#tab-ex" data-toggle="tab" aria-expanded="false">
                  <div class="panel-heading">
                    <div class="panel-heading-btn">
                    </div>
                    <h4 class="panel-title">Drugs & Diseases</h4>
                  </div>
                </a>
              </li>
              <li class="">
                <a class="p-0" href="#tab-snv" data-toggle="tab" aria-expanded="false">
                  <div class="panel-heading">
                    <div class="panel-heading-btn">
                    </div>
                    <h4 class="panel-title">SNVs and Indels</h4>
                  </div>
                </a>
              </li>
              <li class="">
                <a class="p-0" href="#tab-cnv" data-toggle="tab" aria-expanded="false">
                  <div class="panel-heading">
                    <div class="panel-heading-btn">
                    </div>
                    <h4 class="panel-title">CNVs</h4>
                  </div>
                </a>
              </li>
              <li class="">
                <a class="p-0" href="#tab-gene" data-toggle="tab" aria-expanded="false">
                  <div class="panel-heading">
                    <div class="panel-heading-btn">
                    </div>
                    <h4 class="panel-title">Gene Fusions</h4>
                  </div>
                </a>
              </li>
              <li class="">
                <a class="p-0" href="#tab-rule" data-toggle="tab" aria-expanded="false">
                  <div class="panel-heading">
                    <div class="panel-heading-btn">
                    </div>
                    <h4 class="panel-title">Non-Hotspot Rules</h4>
                  </div>
                </a>
              </li>
              <li class="">
                <a class="p-0" href="#tab-assay" data-toggle="tab" aria-expanded="false">
                  <div class="panel-heading">
                    <div class="panel-heading-btn">
                    </div>
                    <h4 class="panel-title">Assays</h4>
                  </div>
                </a>
              </li>
            </ul>
            <div class="tab-content m-b-0 p-l-10 p-r-10 p-t-0 p-b-0">
              <div class="tab-pane fade active in" id="tab-ex">
                <!-- table exclusions -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="col-md-6 p-l-0 p-r-10" id="exclDrugs-header">
                      <div class="panel-heading">
                        <h4 class="panel-title f-s-18">Exclusionary Drugs</h4>
                      </div>
                      <div class="col-md-6 bg-success-light">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10 p-l-5" id="data-table_length">
                          <label>
                            Show
                            <select [disabled]="tableData[versionIndex].exclusionDrugs.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageExdr"  aria-controls="data-table" class="form-control form-control-success input-sm">
                              <option value=10>10</option>
                              <option value=25>25</option>
                              <option value=50>50</option>
                              <option value=100>100</option>
                            </select>
                            entries
                          </label>
                        </div>
                      </div>
                      <div class="col-md-6 bg-success-light">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10 p-r-5">
                          <label>Search:
                            <input [disabled]="tableData[versionIndex].exclusionDrugs.length == 0" type="text" [(ngModel)]="searchtermExdr" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 p-l-0 p-l-10 p-r-0" id="exclDiseases-header">
                      <div class="panel-heading">
                        <h4 class="panel-title f-s-18">Exclusionary Diseases</h4>
                      </div>
                      <div class="col-md-6 bg-success-light">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10 p-l-5" id="data-table_length">
                          <label>Show
                        <select [disabled]="tableData[versionIndex].exclusionDiseases.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageExdz"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                          <option value=100>100</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 bg-success-light">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10 p-r-5">
                          <label>Search:
                        <input [disabled]="tableData[versionIndex].exclusionDiseases.length == 0" type="text" [(ngModel)]="searchtermExdz" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <!-- table exdr -->
                      <div class="table-responsive col-lg-6">
                        <table *ngIf="tableData[versionIndex].exclusionDrugs.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                ID
                              </th>
                              <th>
                                Name
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="2">There are no exclusionary drugs for treatment arm "{{tableData[versionIndex].treatmentArmId |
                                dashify}}"
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="tableData[versionIndex].exclusionDrugs.length!=0" class="table table-td-valign-middle table-striped table-col-width"
                          [mfData]="tableData[versionIndex].exclusionDrugs | filterByText: searchtermExdr" #mftableExdr="mfDataTable"
                          [(mfSortBy)]="tableExdrDefaultSort" [(mfSortOrder)]="sortByDesc" [mfRowsOnPage]="recordsPerPageExdr" id="exclDrugs-table">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="drugs[0].drugId"><span class="table-header">ID</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="drugs[0].name"><span class="table-header">Name</span></mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableExdr.data">
                              <td>{{item.drugs[0].drugId | dashify}}</td>
                              <td>{{item.drugs[0].name | dashify}}</td>
                            </tr>
                            <tr *ngIf="mftableExdr.data.length == 0">
                              <td class="text-muted" colspan="2">No matching search results found for "{{searchtermExdr}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="2">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermExdr" [totallength]="tableData[versionIndex].exclusionDrugs.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                      <!-- table exdz -->
                      <div class="table-responsive col-lg-6">
                        <table *ngIf="tableData[versionIndex].exclusionDiseases.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                CTEP Category
                              </th>
                              <th>
                                CTEP Term
                              </th>
                              <th>
                                MedDRA Code
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="3">There are no exclusionary diseases for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="tableData[versionIndex].exclusionDiseases.length!=0" class="table table-td-valign-middle table-striped table-col-width"
                          [mfData]="tableData[versionIndex].exclusionDiseases | filterByText: searchtermExdz" #mftableExdz="mfDataTable"
                          [(mfSortBy)]="tableExdzDefaultSort" [mfRowsOnPage]="recordsPerPageExdz" id="exclDiseases-table">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="ctepCategory"><span class="table-header">CTEP Category</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="shortName"><span class="table-header">CTEP Term</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="_id"><span class="table-header">MedDRA Code</span></mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableExdz.data">
                              <td>{{item.ctepCategory | dashify}}</td>
                              <td>{{item.shortName | dashify}}</td>
                              <td>{{item._id | dashify}}</td>
                            </tr>
                            <tr *ngIf="mftableExdz.data.length == 0">
                              <td class="text-muted" colspan="3">No matching search results found for "{{searchtermExdz}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="3">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermExdz" [totallength]="tableData[versionIndex].exclusionDiseases.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
              <div class="tab-pane fade" id="tab-snv">
                <!-- table snv -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Inclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="snvIn.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageSnvIn"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="snvIn.length == 0" type="text" [(ngModel)]="searchtermSnvIn" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="snvIn.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                ID
                              </th>
                              <th>
                                Chrom
                              </th>
                              <th>
                                Position
                              </th>
                              <th>
                                OCP Ref
                              </th>
                              <th>
                                OCP Alt
                              </th>
                              <th>
                                LOE
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="7">There are no included single nucleotide variants or indels for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="snvIn.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="snvIn | filterByText: searchtermSnvIn"
                          #mftableSnvIn="mfDataTable" [(mfSortBy)]="tableSnvInDefaultSort" [mfRowsOnPage]="recordsPerPageSnvIn">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="identifier"><span class="table-header">ID</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="chromosome"><span class="table-header">Chrom</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="position"><span class="table-header">Position</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="reference"><span class="table-header">OCP Ref</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="alternative"><span class="table-header">OCP Alt</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="levelOfEvidence"><span class="table-header">LOE</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableSnvIn.data">
                              <td>
                                <cosmic-link [linkType]="'cosmicId'" [linkId]="item.identifier"></cosmic-link>
                              </td>
                              <td>{{item.chromosome | dashify}}</td>
                              <td>{{item.position | dashify}}</td>
                              <td>{{item.reference | dashify}}</td>
                              <td>{{item.alternative | dashify}}</td>
                              <td>{{item.levelOfEvidence | dashify}}</td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableSnvIn.data.length == 0">
                              <td class="text-muted" colspan="7">No matching search results found for "{{searchtermSnvIn}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="7">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermSnvIn" [totallength]="snvIn.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Exclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="snvEx.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageSnvEx"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="snvEx.length == 0" type="text" [(ngModel)]="searchtermSnvEx" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="snvEx.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                ID
                              </th>
                              <th>
                                Chrom
                              </th>
                              <th>
                                Position
                              </th>
                              <th>
                                OCP Ref
                              </th>
                              <th>
                                OCP Alt
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="7">There are no excluded single nucleotide variants or indels for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="snvEx.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="snvEx | filterByText: searchtermSnvEx"
                          #mftableSnvEx="mfDataTable" [(mfSortBy)]="tableSnvExDefaultSort" [mfRowsOnPage]="recordsPerPageSnvEx">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="identifier"><span class="table-header">ID</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="chromosome"><span class="table-header">Chrom</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="position"><span class="table-header">Position</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="reference"><span class="table-header">OCP Ref</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="alternative"><span class="table-header">OCP Alt</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableSnvEx.data">
                              <td>
                                <cosmic-link [linkType]="'cosmicId'" [linkId]="item.identifier"></cosmic-link>
                              </td>
                              <td>{{item.chromosome | dashify}}</td>
                              <td>{{item.position | dashify}}</td>
                              <td>{{item.reference | dashify}}</td>
                              <td>{{item.alternative | dashify}}</td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableSnvEx.data.length == 0">
                              <td class="text-muted" colspan="7">No matching search results found for "{{searchtermSnvEx}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="7">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermSnvEx" [totallength]="snvEx.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
              <div class="tab-pane fade" id="tab-cnv">
                <!-- table cnv -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Inclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="cnvIn.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageCnvIn"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="cnvIn.length == 0" type="text" [(ngModel)]="searchtermCnvIn" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="cnvIn.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                Gene
                              </th>
                              <th>
                                Chrom
                              </th>
                              <th>
                                Position
                              </th>
                              <th>
                                LOE
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="5">There are no included copy number variants for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="cnvIn.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="cnvIn | filterByText: searchtermCnvIn"
                          #mftableCnvIn="mfDataTable" [(mfSortBy)]="tableCnvInDefaultSort" [mfRowsOnPage]="recordsPerPageCnvIn">
                          <thead>
                            <tr class="success-light">
                              <!--inclusion-->
                              <th>
                                <mfDefaultSorter by="geneName"><span class="table-header">Gene</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="chromosome"><span class="table-header">Chrom</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="position"><span class="table-header">Position</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="levelOfEvidence"><span class="table-header">LOE</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableCnvIn.data">
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.geneName"></cosmic-link></td>
                              <td>{{item.chromosome | dashify}}</td>
                              <td>{{item.position | dashify}}</td>
                              <td>{{item.levelOfEvidence | dashify}}</td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableCnvIn.data.length == 0">
                              <td class="text-muted" colspan="5">No matching search results found for "{{searchtermCnvIn}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="5">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermCnvIn" [totallength]="cnvIn.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Exclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="cnvEx.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageCnvEx"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="cnvEx.length == 0" type="text" [(ngModel)]="searchtermCnvEx" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="cnvEx.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                Gene
                              </th>
                              <th>
                                Chrom
                              </th>
                              <th>
                                Position
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="5">There are no excluded copy number variants for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="cnvEx.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="cnvEx | filterByText: searchtermCnvEx"
                          #mftableCnvEx="mfDataTable" [(mfSortBy)]="tableCnvExDefaultSort" [mfRowsOnPage]="recordsPerPageCnvEx">
                          <thead>
                            <tr class="success-light">
                              <!--inclusion-->
                              <th>
                                <mfDefaultSorter by="geneName"><span class="table-header">Gene</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="chromosome"><span class="table-header">Chrom</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="position"><span class="table-header">Position</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableCnvEx.data">
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.geneName"></cosmic-link></td>
                              <!--same as id-->
                              <td>{{item.chromosome | dashify}}</td>
                              <td>{{item.position | dashify}}</td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableCnvEx.data.length == 0">
                              <td class="text-muted" colspan="5">No matching search results found for "{{searchtermCnvEx}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="5">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermCnvEx" [totallength]="cnvEx.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
              <div class="tab-pane fade" id="tab-gene">
                <!-- table gene -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Inclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="geneIn.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageGeneIn"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="geneIn.length == 0" type="text" [(ngModel)]="searchtermGeneIn" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="geneIn.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                ID
                              </th>
                              <th>
                                Gene 1
                              </th>
                              <th>
                                Gene 2
                              </th>
                              <th>
                                LOE
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="5">There are no included gene fusions for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="geneIn.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="geneIn | filterByText: searchtermGeneIn"
                          #mftableGeneIn="mfDataTable" [(mfSortBy)]="tableGeneInDefaultSort" [mfRowsOnPage]="recordsPerPageGeneIn">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="identifier"><span class="table-header">ID</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="gene1"><span class="table-header">Gene 1</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="gene2"><span class="table-header">Gene 2</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="levelOfEvidence"><span class="table-header">LOE</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableGeneIn.data">
                              <td><cosmic-link [linkType]="'cosmicFusionId'" [linkId]="item.identifier"></cosmic-link></td>
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.gene1"></cosmic-link></td>
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.gene2"></cosmic-link></td>
                              <td>{{item.levelOfEvidence | dashify}}</td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableGeneIn.data.length == 0">
                              <td class="text-muted" colspan="5">No matching search results found for "{{searchtermGeneIn}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="5">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermGeneIn" [totallength]="geneIn.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Exclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="geneEx.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageGeneEx"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="geneEx.length == 0" type="text" [(ngModel)]="searchtermGeneEx" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="geneEx.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                ID
                              </th>
                              <th>
                                Gene 1
                              </th>
                              <th>
                                Gene 2
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="5">There are no excluded gene fusions for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="geneEx.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="geneEx | filterByText: searchtermGeneEx"
                          #mftableGeneEx="mfDataTable" [(mfSortBy)]="tableGeneExDefaultSort" [mfRowsOnPage]="recordsPerPageGeneEx">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="identifier"><span class="table-header">ID</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="gene1"><span class="table-header">Gene 1</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="gene2"><span class="table-header">Gene 2</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableGeneEx.data">
                              <td><cosmic-link [linkType]="'cosmicFusionId'" [linkId]="item.identifier"></cosmic-link></td>
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.gene1"></cosmic-link></td>
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.gene2"></cosmic-link></td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableGeneEx.data.length == 0">
                              <td class="text-muted" colspan="5">No matching search results found for "{{searchtermGeneEx}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="5">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermGeneEx" [totallength]="geneEx.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
              <div class="tab-pane fade" id="tab-rule">
                <!-- table rule -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Inclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="ruleIn.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageRuleIn"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="ruleIn.length == 0" type="text" [(ngModel)]="searchtermRuleIn" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="ruleIn.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                Gene
                              </th>
                              <th>
                                Exon
                              </th>
                              <th>
                                Oncomine Variant Class
                              </th>
                              <th>
                                Function
                              </th>
                              <th>
                                LOE
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="6">There are no included non-hotspot rules for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="ruleIn.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="ruleIn | filterByText: searchtermRuleIn"
                          #mftableRuleIn="mfDataTable" [(mfSortBy)]="tableRuleInDefaultSort" [mfRowsOnPage]="recordsPerPageRuleIn">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="gene"><span class="table-header">Gene</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="exon"><span class="table-header">Exon</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="oncominevariantclass"><span class="table-header">Oncomine Variant Class</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="function"><span class="table-header">Function</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="levelOfEvidence"><span class="table-header">LOE</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableRuleIn.data">
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.gene"></cosmic-link></td>
                              <td>{{item.exon | dashify}}</td>
                              <td>{{item.oncominevariantclass | dashify}}</td>
                              <td>{{item.function | dashify}}</td>
                              <td>{{item.levelOfEvidence | dashify}}</td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableRuleIn.data.length == 0">
                              <td class="text-muted" colspan="6">No matching search results found for "{{searchtermRuleIn}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="6">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermRuleIn" [totallength]="ruleIn.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div>
                    <div class="panel-heading">
                      <h4 class="panel-title f-s-18">Exclusions</h4>
                    </div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="ruleEx.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageRuleEx"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=5>5</option>
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="ruleEx.length == 0" type="text" [(ngModel)]="searchtermRuleEx" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="ruleEx.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                Gene
                              </th>
                              <th>
                                Exon
                              </th>
                              <th>
                                Oncomine Variant Class
                              </th>
                              <th>
                                Function
                              </th>
                              <th>
                                Lit
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="6">There are no excluded non-hotspot rules for treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="ruleEx.length!=0" class="table table-td-valign-middle table-striped table-col-width" [mfData]="ruleEx | filterByText: searchtermRuleEx"
                          #mftableRuleEx="mfDataTable" [(mfSortBy)]="tableRuleExDefaultSort" [mfRowsOnPage]="recordsPerPageRuleEx">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="gene"><span class="table-header">Gene</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="exon"><span class="table-header">Exon</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="oncominevariantclass"><span class="table-header">Oncomine Variant Class</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="function"><span class="table-header">Function</span></mfDefaultSorter>
                              </th>
                              <th>
                                <span class="table-header">Lit</span>
                                <!--<mfDefaultSorter by="publicMedIds"></mfDefaultSorter>-->
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableRuleEx.data">
                              <td><cosmic-link [linkType]="'cosmicGene'" [linkId]="item.gene"></cosmic-link></td>
                              <td>{{item.exon | dashify}}</td>
                              <td>{{item.oncominevariantclass | dashify}}</td>
                              <td>{{item.function | dashify}}</td>
                              <td>
                                <span *ngIf="item.publicMedIds!=null && item.publicMedIds!=0">
                                <span *ngFor="let items of item.publicMedIds; let last=last">
                                  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{items}}" class="link-none" target="_blank">{{items | dashify}}</a>
                                  <span *ngIf="!last">, </span>
                                </span>
                                </span>
                                <span *ngIf="item.publicMedIds==null || item.publicMedIds==0">-</span>
                              </td>
                            </tr>
                            <tr *ngIf="mftableRuleEx.data.length == 0">
                              <td class="text-muted" colspan="6">No matching search results found for "{{searchtermRuleEx}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="6">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermRuleEx" [totallength]="ruleEx.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
              <div class="tab-pane fade" id="tab-assay">
                <!-- table assay -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="tableData[versionIndex].assayResults.length == 0" name="data-table_length" [(ngModel)]="recordsPerPageAssay"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                          <option value=100>100</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="tableData[versionIndex].assayResults.length == 0" type="text" [(ngModel)]="searchtermAssay" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="tableData[versionIndex].assayResults.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                Gene
                              </th>
                              <th>
                                Result
                              </th>
                              <th>
                                Variant Association
                              </th>
                              <th>
                                LOE
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="4">There are no assay results for treatment arm "{{tableData[versionIndex].treatmentArmId | dashify}}"</td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="tableData[versionIndex].assayResults.length!=0" class="table table-td-valign-middle table-striped table-col-width"
                          [mfData]="tableData[versionIndex].assayResults | filterByText: searchtermAssay" #mftableAssay="mfDataTable"
                          [(mfSortBy)]="tableAssayDefaultSort" [mfRowsOnPage]="recordsPerPageAssay">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="gene"><span class="table-header">Gene</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="assayResultStatus"><span class="table-header">Result</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="assayVariant"><span class="table-header">Variant Association</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="levelOfEvidence"><span class="table-header">LOE</span></mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftableAssay.data">
                              <td>{{item.gene | dashify}}</td>
                              <td>{{item.assayResultStatus | dashify}}</td>
                              <td>{{item.assayVariant | dashify}}</td>
                              <td>{{item.levelOfEvidence | dashify}}</td>
                            </tr>
                            <tr *ngIf="mftableAssay.data.length == 0">
                              <td class="text-muted" colspan="4">No matching search results found for "{{searchtermAssay}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="4">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermAssay" [totallength]="tableData[versionIndex].assayResults.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- end panel -->
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" id="all-patients-panel">
      <!-- begin panel -->
      <h1 class="page-header">All Patients Data</h1>
      <div class="panel">
        <div class="m-0 p-0">
          <div>
            <div class="tab-content m-b-0 p-l-10 p-r-10 p-t-0 p-b-0">
              <div class="tab-pane fade active in">
                <!-- table patient -->
                <div class="row">
                  <!-- begin panel -->
                  <div>
                    <div class="col-md-12 bg-success-light">
                      <div class="col-md-6 p-l-5">
                        <div class="dataTables_length text-white form-inline p-t-15 p-b-10" id="data-table_length">
                          <label>Show
                        <select [disabled]="tableData[0].summaryReport.assignmentRecords.length == 0" name="data-table_length" [(ngModel)]="recordsPerPagePatient"  aria-controls="data-table" class="form-control form-control-success input-sm">
                          <option value=10>10</option>
                          <option value=25>25</option>
                          <option value=50>50</option>
                          <option value=100>100</option>
                        </select>
                      entries</label>
                        </div>
                      </div>
                      <div class="col-md-6 p-r-5">
                        <div id="data-table_filter" class="dataTables_filter pull-right text-white form-inline p-t-15 p-b-10">
                          <label>Search:
                        <input [disabled]="tableData[0].summaryReport.assignmentRecords.length == 0" type="text" [(ngModel)]="searchtermPatient" class="form-control form-control-success input-sm" placeholder="" aria-controls="data-table">
                      </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="table-responsive col-lg-12">
                        <table *ngIf="tableData[0].summaryReport.assignmentRecords.length == 0" class="table table-td-valign-middle table-striped table-col-width">
                          <thead>
                            <tr class="success-light">
                              <th>
                                Slot
                              </th>
                              <th>
                                Patient Sequence Number
                              </th>
                              <th>
                                Treatment Arm Version
                              </th>
                              <th>
                                Patient Assignment Status Outcome
                              </th>
                              <th class="text-center">
                                Assignment Report
                              </th>
                              <th class="text-center">
                                Variant Report
                              </th>
                              <th>
                                Selected Date
                              </th>
                              <th>
                                On Arm Date
                              </th>
                              <th>
                                Off Arm Date
                              </th>
                              <th>
                                Step
                              </th>
                              <th>
                                Disease
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="text-muted" colspan="11">There have never been any patients assigned to treatment arm "{{tableData[versionIndex].treatmentArmId
                                | dashify}}"
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <table *ngIf="tableData[0].summaryReport.assignmentRecords.length!=0" class="table table-td-valign-middle table-striped table-col-width"
                          [mfData]="tableData[0].summaryReport.assignmentRecords | filterByText: searchtermPatient" #mftablePatient="mfDataTable"
                          [(mfSortBy)]="tablePatientDefaultSort" [mfRowsOnPage]="recordsPerPagePatient">
                          <thead>
                            <tr class="success-light">
                              <th>
                                <mfDefaultSorter by="slot"><span class="table-header">Slot</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="patientSequenceNumber"><span class="table-header">Patient Sequence Number</span></mfDefaultSorter>
                              </th>
                              <th style="min-width:13em">
                                <mfDefaultSorter by="treatmentArmVersion"><span class="table-header">Treatment Arm Version</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="assignmentStatusOutcome"><span class="table-header">Patient Assignment Status Outcome</span></mfDefaultSorter>
                              </th>
                              <th class="text-center">
                                Assignment Report
                              </th>
                              <th class="text-center">
                                Variant Report
                              </th>
                              <th>
                                <mfDefaultSorter by="dateSelected"><span class="table-header">Selected Date</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="dateOnArm"><span class="table-header">On Arm Date</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="dateOffArm"><span class="table-header">Off Arm Date</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="stepNumber"><span class="table-header">Step</span></mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="diseaseShortName"><span class="table-header">Disease</span></mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mftablePatient.data">
                              <!--<td>{{item.slot | dashify}}</td>-->
                              <td>-</td>
                              <td routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                                <a href [routerLink]="['/patients', item.patientSequenceNumber]" class="link-none"><i class="fa fa-user"></i> {{item.patientSequenceNumber | dashify}}</a>
                              </td>
                              <td>
                                <span *ngIf="item.treatmentArmVersion!=version"><a href="javascript:;" class="link-none"><i class="fa fa-medkit"></i> {{item.treatmentArmVersion | dashify}}</a></span>
                                <span *ngIf="item.treatmentArmVersion == version"><i class="fa fa-medkit"></i> {{item.treatmentArmVersion | dashify}}</span>
                              </td>
                              <td [colorCodePatients]="item.assignmentStatusOutcome">{{item.assignmentStatusOutcome | dashify}}</td>
                              <td class="text-center">
                                <a href [routerLink]="['/patients/' + item.patientSequenceNumber + '/variant_reports/' + item.analysisId]" class="link-none"><i class="fa fa-file-text-o"></i></a>
                              </td>
                              <td class="text-center">
                                <a href [routerLink]="['/patients/' + item.patientSequenceNumber + '/variant_reports/' + item.analysisId]" class="link-none"><i class="fa fa-file-text-o"></i></a>
                              </td>
                              <td>{{item.dateSelected | dashify}}</td>
                              <td>{{item.dateOnArm | dashify}}</td>
                              <td>{{item.dateOffArm | dashify}}</td>
                              <td>{{item.stepNumber | dashify}}</td>
                              <td>{{item.diseaseShortName | dashify}}</td>
                            </tr>
                            <tr *ngIf="mftablePatient.data.length == 0">
                              <td class="text-muted" colspan="11">No matching search results found for "{{searchtermPatient}}"</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td class="tfoot-padding" colspan="11">
                                <mfBootstrapPaginator [rowsOnPageSet]="[10,25,50,100]" [search]="searchtermPatient" [totallength]="tableData[0].summaryReport.assignmentRecords.length"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end panel -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
